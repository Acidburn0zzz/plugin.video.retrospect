<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<addon  id="net.rieter.xot"
        version="4.1.7~alpha25"
        name="Retrospect"
        provider-name="Bas Rieter">

    <requires>
        <import addon="xbmc.metadata" version="1.0"/>
        <import addon="xbmc.python" version="2.23.0"/>
        <import addon="script.module.simplejson" version="3.3.0"/>
        <import addon="inputstream.adaptive" version="2.0.19" optional="true" />
    </requires>
    
    <extension  point="xbmc.python.pluginsource" 
                library="default.py"
                id="net.rieter.xot.plugin">
        <provides>video</provides>
    </extension>

    <extension point="kodi.context.item">
        <menu id="kodi.core.main">
            <item library="menu_queue.py">
                <label>30541</label>
                <visible>ListItem.Property(RetrospectVideo)|ListItem.Property(RetrospectFolder)</visible>
            </item>

            <item library="menu_refresh.py">
                <label>30529</label>
                <visible>ListItem.Property(RetrospectVideo)|ListItem.Property(RetrospectFolder)</visible>
            </item>


            <!-- Cloaking menu -->
            <menu>
                <label>30573</label>

                <item library="menu_cloak.py">
                    <label>30563</label>
                    <visible>ListItem.Property(RetrospectFolder)+!ListItem.Property(RetrospectCloaked)</visible>
                </item>

                <item library="menu_uncloak.py">
                    <label>30564</label>
                    <visible>ListItem.Property(RetrospectCloaked)</visible>
                </item>
            </menu>

            <!-- Retrospect Menu -->
            <menu>
                <label>30572</label>

                <item library="menu_enable.py">
                    <label>30040</label>
                    <visible>ListItem.Property(Retrospect)</visible>
                </item>

                <item library="menu_channelsettings.py">
                    <label>30069</label>
                    <visible>ListItem.Property(Retrospect)+!ListItem.Property(RetrospectCategory)</visible>
                </item>

                <item library="menu_settings.py">
                    <label>30528</label>
                    <visible>ListItem.Property(Retrospect)</visible>
                </item>
            </menu>
        </menu>
    </extension>

    <extension point="xbmc.addon.metadata">
        <reuselanguageinvoker>false</reuselanguageinvoker>
        <platform>all</platform>
        <minversion>29000</minversion>
        <summary>Retrospect (previously XBMC Online TV) is a plugin that allows the playback of a lot of TV shows that are available (legally) via the broadcasters websites.</summary>
        <description>Retrospect uses the official websites of a lot of different broadcasting companies (mainly Dutch, Belgian, British and Swedish) to make their re-run episodes available on the Kodi platform. More information can be found at www.rieter.net.[CR][CR]Retrospect reports back usage statistics to our servers. This option can be disabled from the add-on settings.</description>
        <disclaimer>Retrospect is provided as is. We do not take any responsibility for possible (but highly unlikely) damage cause to your system. Nor do we take responsibility for the content that can be watched via this add-on.</disclaimer>
        <nofanart>false</nofanart>
        <language>en nl de se no lt lv fi</language>
    </extension>
</addon>